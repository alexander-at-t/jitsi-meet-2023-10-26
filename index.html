<html>
<head><meta charset="utf-8" /></head>
<body>
  <script src="https://meet.jit.si/external_api.js"></script>
  <script>
    (async function() {
      await navigator.mediaDevices.getUserMedia({ audio: true, video: true });
      const devices = await navigator.mediaDevices.enumerateDevices();
      const videoInputDevices = devices.filter(device => device.kind === 'videoinput');
      const firstVideoInputDeviceLabel = videoInputDevices[0]?.label;
      if (!firstVideoInputDeviceLabel) {
        alert('Cannot find video input device');
        return;
      }
      const domain = 'meet.jit.si';
      const options = {
        roomName: 'test-t-2023-10-26',
        width: '100%',
        height: '100%',
        configOverwrite: { prejoinPageEnabled: false },
        devices: { videoInput: firstVideoInputDeviceLabel },
      };
      const api = new JitsiMeetExternalAPI(domain, options);
    })();
  </script>
</body>
</html>
